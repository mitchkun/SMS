<?phprequire "Utilities/REQUIRE_SETTINGS.php";require "Utilities/URL_MANAGER.php";require "Utilities/Student/StudentExt.php";require "Utilities/Course/Course.php";require "Utilities/Course/CourseExt.php";require "Utilities/Payment/PaymentExt.php";require "Utilities/Payment/Payment.php";?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head>    <meta charset="utf-8" />    <meta name="viewport" content="width=device-width, initial-scale=1.0" />    <title><?php  echo "Class" ?></title>    <!-- BOOTSTRAP STYLES-->    <link href="assets/css/bootstrap.css" rel="stylesheet" />    <!-- FONTAWESOME STYLES-->    <link href="assets/css/font-awesome.css" rel="stylesheet" />    <!-- MORRIS CHART STYLES-->    <link href="assets/js/morris/morris-0.4.3.min.css" rel="stylesheet" />    <!-- CUSTOM STYLES-->    <link href="assets/css/custom.css" rel="stylesheet" />    <!-- GOOGLE FONTS--></head><body><div id="wrapper" "><nav class="navbar navbar-default navbar-cls-top " role="navigation" style="margin-bottom: 0;background: #3F51B5;">    <div class="navbar-header">        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".sidebar-collapse">            <span class="sr-only">Toggle navigation</span>            <span class="icon-bar"></span>            <span class="icon-bar"></span>            <span class="icon-bar"></span>        </button>        <a class="navbar-brand" style="background: #3F51B5;color: #fff;font-size: 22px" href=""><?php echo SYSTEM_NAME ?></a> <h1 style="float: right;color: #fff">Class</h1>    </div>    <div style="color: white;padding: 15px 50px 5px 50px;float: right;font-size: 16px;"> <a href="register_course.php" class="btn btn-danger square-btn-adjust">General Ledger</a><a href="register_course.php" class="btn btn-danger square-btn-adjust">New Class</a> </div></nav><!-- NAV SIDE --><?phprequire('nav_side.php');?><!-- END NABV SIDE --><div id="page-wrapper" >    <div id="page-inner">        <!-- /. ROW  -->        <div class="row" style="padding: 2%;">            <?php            $ids = getAllCourseIds();            $number_of_ids = 0;            foreach ($ids as $id)                $number_of_ids++;            echo "<div class=\"panel panel-default\">                <div class=\"panel-heading\">                    $number_of_ids courses                </div>                <div class=\"panel-body\">                    <div class=\"table-responsive\">                        <table class=\"table table-striped table-bordered table-hover\" id=\"dataTables-example\">                            <thead>                                        <tr>                                            <th>ID</th>                                            <th>Class</th>                                             <th>Fees</th>                                            <th>Students</th>                                            <th>Total Fees</th>                                            <th>Total Paid</th>                                            <th>Options</th>                                                                                                                                </tr>                                    </thead>                                    <tbody>                                    ";            $total_students = 0;            $grand_total = 0;            $total_courses = 0;$paid_total = 0;            foreach ($ids as $id)            {                $course = new Course();                if(!$course->create_from_id($id))                    continue;                                $student_paid = 0.0;                $student_ids = getStudentsIdsUsingCourseId($course->ID);                $pay = getAllPaymentsIdC($course->ID);                foreach ($pay as $paid){                    $stu = new Payment();                    $stu->create_from_id($paid);                    $student_paid += $stu->amount;                }                $students_number = 0;                                                                foreach ($student_ids as $student_id){                    $students_number++;                }                $total_students += $students_number;                $paid_total += $student_paid;                $total_courses = ($students_number * $course->fees);                $grand_total += $total_courses;                echo "                           <tr class=\"odd gradeX\">                                            <td>$course->ID</td>                                            <td>$course->name</td>                                            <td>E" . number_format((float)$course->fees, 2) . "</td>                                            <td>$students_number students</td>                                            <td>E" . number_format((float)$total_courses, 2) . "</td>                                                                                            <td>E" . number_format((float)$student_paid,2)."</td>                                                    <td> <div class=\"btn-group\">											  <button data-toggle=\"dropdown\" class=\"btn btn-success dropdown-toggle\">Options <span class=\"caret\"></span></button>											  <ul class=\"dropdown-menu\">											  <li><a href='students.php?id=$course->ID'>View</a></li>											  <li class=\"divider\"></li>												<li><a href='register_course.php?id=$course->ID'>Edit</a></li>												<li><a href='#' onclick='delete_item($course->ID)'>Delete</a></li>                                                                                                                                                                                                    <li><a href='Utilities/receipt_1/receipt_3.php?id=$course->ID&num=$students_number'>View Ledger</a></li>											  </ul>											</div>											</td>                                                                                    </tr>                                                                         ";            }            echo "                                </tbody><tr >                                            <td></td>                                            <td><strong>Total</strong></td>                                                                                        <td class='colsum'></td>                                            <td class='colsum'> $total_students</td>                                                                                        <td class='colsum'> E" . number_format((float)$grand_total,2)."</td>                                                                                        <td class='colsum'>E" . number_format((float)$paid_total,2)."</td>                                                                                                                                       </tr>                        </table>                    </div>                </div>            </div>                    <!--End Advanced Tables -->";            ?>        </div>    </div><div id="temp"></div></div><script src="assets/js/jquery-1.10.2.js"></script><!-- BOOTSTRAP SCRIPTS --><script src="assets/js/bootstrap.min.js"></script><!-- METISMENU SCRIPTS --><script src="assets/js/jquery.metisMenu.js"></script><!-- DATA TABLE SCRIPTS --><script src="assets/js/dataTables/jquery.dataTables.js"></script><script src="assets/js/dataTables/dataTables.bootstrap.js"></script><script>    $(document).ready(function () {        $('#dataTables-example').dataTable();    });</script><!-- CUSTOM SCRIPTS --><script src="assets/js/custom.js"></script><script type="text/javascript">    function delete_item(id) {        var table = "course";        $.post('Utilities/FileManager/delete.php',{ t: table, i:id },function (output) {            $('#temp').html(output);        });    }</script></body></html>