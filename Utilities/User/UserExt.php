<?php/** * Created by PhpStorm. * User: leon-pc * Date: 11/16/2016 * Time: 10:12 AM */function getAllUsersIds(){    require (REQUIRE_CONNECTION);    $query = "             SELECT                  *            FROM users        ";    try {        $stmt   = $db->prepare($query);        $result = $stmt->execute();    }    catch (PDOException $ex) {        echo $ex;        return null;    }    $ids = array();    while ($data = $stmt->fetch())    {        $ids[] = $data['ID'];    }    return $ids;}function registerUser($display_name,$phone_number,$pass_word    ,$user_name,$access,$subject1,$subject2,$subject3){    require (REQUIRE_CONNECTION);    require (REQUIRE_DATE);    $query = "INSERT INTO users 	( display_name,phone_number,password,username,date_created,access,subject1,subject2,subject3) VALUES  	( :display_name , :phone_number , :password ,:username,:date_created, :access, :subject1, :subject2, :subject3)";    $query_params = array(        ':display_name' => $display_name,        ':phone_number' => $phone_number,        ':password' => $pass_word,        ':username' => $user_name,        ':date_created' => getCurrentDateString(),                ':access' => $access,                ':subject1' => $subject1,                ':subject2' => $subject2,                ':subject3' => $subject3,    );    try {        $stmt = $db->prepare($query);        $result = $stmt->execute($query_params);        return true;    }    catch (PDOException $ex) {        echo $ex;        return false;    }}function deleteUser($id){    require (REQUIRE_CONNECTION);    $query = "DELETE FROM users WHERE ID =  '". $id."'";    try {        $stmt = $db->prepare($query);        $result = $stmt->execute();        return true;    }    catch (PDOException $ex) {        echo $ex;        return false;    }}function updateUser($id,$array_keys,$array_data){    require (REQUIRE_CONNECTION);    $pos = 0;    foreach ($array_keys as $array_key) {        if($array_data[$pos] == -1 || $array_data[$pos] == null)            continue;        $query = "UPDATE users SET $array_key = '" . $array_data[$pos] . "' WHERE ID = '" . $id . "'";        try {            $stmt = $db->prepare($query);            $result = $stmt->execute();                        //return true;        } catch (PDOException $ex) {            echo $ex;        }        $pos++;    }    return true;}