<?php/** * Created by PhpStorm. * User: leon-pc * Date: 11/16/2016 * Time: 10:05 AM */class Payment{   public $ID,$student_id,$date,$amount,$course_id,$balance;    public function create_from_id($id)    {        require (REQUIRE_CONNECTION);        $query = "             SELECT                  *            FROM payments             WHERE ID = '" . $id . "'        ";                 try {            $stmt   = $db->prepare($query);            //$stmt1 = $db->prepare($query1);            $result = $stmt->execute();            //$result1 = $stmt1->execute();        }        catch (PDOException $ex) {            die ($ex);            return false;        }        $data = $stmt->fetch();        $this->course_id = $data['course_id'];        $this->student_id = $data['student_id'];                $query1 = "             SELECT                  balance            FROM students             WHERE ID = '" . $this->student_id . "'        ";                try {            //$stmt   = $db->prepare($query);            $stmt1 = $db->prepare($query1);            //$result = $stmt->execute();            $result1 = $stmt1->execute();        }        catch (PDOException $ex) {            die ($ex);            return false;        }                        $data1 = $stmt1->fetch();        if(isset($data) && isset($data['ID']))        {            $this->ID = $data['ID'];            //$this->student_id = $data['student_id'];            $this->amount = $data['amount'];            //$this->course_id = $data['course_id'];            $this->date = $data['date'];                        $this->balance = $data1['balance'] - $data['amount'];                             //$data3 = $stmt3->fetch();            return true;        }        else            return false;                        }        public function create_from_sid($id)    {        require (REQUIRE_CONNECTION);        $query = "             SELECT                  *            FROM payments             WHERE student_id = '" . $id . "'        ";                 try {            $stmt   = $db->prepare($query);            //$stmt1 = $db->prepare($query1);            $result = $stmt->execute();            //$result1 = $stmt1->execute();        }        catch (PDOException $ex) {            die ($ex);            return false;        }        $data = $stmt->fetch();        $this->course_id = $data['course_id'];        $this->student_id = $data['student_id'];                $query1 = "             SELECT                  balance            FROM students             WHERE ID = '" . $this->student_id . "'        ";                try {            //$stmt   = $db->prepare($query);            $stmt1 = $db->prepare($query1);            //$result = $stmt->execute();            $result1 = $stmt1->execute();        }        catch (PDOException $ex) {            die ($ex);            return false;        }                        $data1 = $stmt1->fetch();        if(isset($data) && isset($data['ID']))        {            $this->ID = $data['ID'];            //$this->student_id = $data['student_id'];            $this->amount = $data['amount'];            //$this->course_id = $data['course_id'];            $this->date = $data['date'];                        $this->balance = $data1['balance'] - $data['amount'];                             //$data3 = $stmt3->fetch();            return true;        }        else            return false;                        }}